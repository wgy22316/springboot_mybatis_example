<!DOCTYPE html>
<html>

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="renderer" content="webkit">

    <title>登录</title>
    <meta name="keywords">
    <meta name="description">

    <link th:href="@{/css/bootstrap.min.css?v=3.4.0}" rel="stylesheet">
    <link th:href="@{/css/font-awesome/css/font-awesome.css?v=4.3.0}" rel="stylesheet">

    <link th:href="@{/css/animate.css}" rel="stylesheet">
    <link th:href="@{/css/style.css?v=2.2.0}" rel="stylesheet">

</head>

<body class="gray-bg">

<div class="middle-box text-center loginscreen  animated fadeInDown">
    <div>
        <div>

            <h1 class="logo-name">Hello</h1>

        </div>
        <h3>欢迎使用 Hello</h3>

        <form class="m-t" role="form"  method="post" id="login_form" onsubmit="return false;">
            <div class="form-group">
                <input type="text" class="form-control" placeholder="用户名" required="" name="userName">
            </div>
            <div class="form-group">
                <input type="password" class="form-control" placeholder="密码" required="" name="password">
            </div>
            <a  class="btn btn-primary block full-width m-b" onclick="login();">登 录</a>


            <!--<p class="text-muted text-center"> <a href="login.html#"><small>忘记密码了？</small></a> | <a href="register.html">注册一个新账号</a>-->
            <!--</p>-->

        </form>
    </div>
</div>

<!-- Mainly scripts -->
<script th:src="@{/js/jquery-2.1.1.min.js}"></script>
<script th:src="@{/js/bootstrap.min.js?v=3.4.0}"></script>

</body>
<script>
    function login() {
        console.log("hello");
        var form = new FormData(document.getElementById("login_form"));
        $.ajax({
            url:"/user/login",
            type:"post",
            data:form,
            processData:false,
            contentType:false,
            success:function(data){
                console.log(data);
                if(data && data.code == 0){
                    location.href = "/index";
                }else{
                    alert(data.msg);
                }
            },
            error:function(e){
                alert("错误！！");
            }
        });
    }
//    $(function () {
//
//
//    });
</script>
</html>
